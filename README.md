# .logtag

このリポジトリは、LogTag ツール用のタグや設定を管理するリポジトリです。各言語ごとにブランチが用意されており、それぞれの環境に適したタグファイルや設定ファイルを含んでいます。

## LogTag リポジトリ

https://github.com/ShotaIuchi/LogTag.git

## ブランチ構成

言語ごとに異なるブランチが用意されており、それぞれのブランチには該当言語に対応するタグファイルや設定ファイルが含まれています。

- `main`: デフォルト設定を含む基本的なブランチ
- `en`: 英語用の設定とタグファイル
- `ja`: 日本語用の設定とタグファイル

各ブランチには、対応する言語でのログ解析を行うためのタグと設定が保存されています。

## フォルダ構成

```
/
├── config.yaml      # 設定ファイル
└── logtag/           # タグファイルを格納するフォルダ
    ├── 01-general.yaml  # (例) タグファイル（カテゴリ: general）
    ├── 02-errors.yaml   # (例) タグファイル（カテゴリ: errors）
    └── 03-warnings.yaml # (例) タグファイル（カテゴリ: warnings）
```

- `config.yaml`: タグの表示設定やフィルタを管理する設定ファイルです。
- `logtag/`: タグファイルを格納するフォルダで、カテゴリごとにファイルが分かれています。
  - `01-general.yaml`: (例) 一般的なログメッセージに対応するタグファイル。カテゴリは「general」。
  - `02-errors.yaml`: (例) エラーメッセージに対応するタグファイル。カテゴリは「errors」。
  - `03-warnings.yaml`: (例) 警告メッセージに対応するタグファイル。カテゴリは「warnings」。

## `config.yaml` の内容説明

`config.yaml` は、LogTag が出力するログメッセージの形式や表示する列、カテゴリのフィルタを定義しています。以下は、`config.yaml`のサンプルです。

```yaml
column:
  - name: TAG
    display: TAG
    enable: true
  - name: CATEGORY
    display: CATEGORY
    enable: true
  - name: FILE
    display: LOG-FILE
    enable: true
  - name: LOG
    display: LOG
    enable: true

category:
  - "errors"
```

### 設定項目:

- **`column`**: ログ出力に表示する列を定義します。表示の有無や表示名も設定できます。
  - `name`: 列の内部名。
  - `display`: ログ出力に表示される列の名前。
  - `enable`: 列を表示するかどうか（`true`で表示、`false`で非表示）。
- **`category`**: ログタグカテゴリをフィルタリングのために定義します。必要に応じてカテゴリを追加・削除できます。すべてのカテゴリを使用する場合は、このセクションを空のままにします。

## タグファイルのファイル名の説明と内容

### ファイル名の規則

タグファイルは、次の形式で命名されます。

```
[番号]-[カテゴリ].yaml
```

例:

- `01-general.yaml`: (例) 一般的なログメッセージに対応するタグ
- `02-errors.yaml`: (例) エラーメッセージに対応するタグ
- `03-warnings.yaml`: (例) 警告メッセージに対応するタグ

番号はカテゴリの優先順位を表し、数字が小さいほど優先されます。

### タグファイルの内容説明

タグファイルでは、ログメッセージ内で検出するキーワードと、それに対応するメッセージを定義します。正規表現もサポートしています。

```yaml
- keyword: "ERROR"
  message: "エラーが発生しました"
- keyword: "INFO"
  message: "情報"
- keyword: "^WARN.*"
  message: "警告"
  regex: true
```

- **`<category>`**: ファイル名はカテゴリ名に対応しており、各ファイルにはそのカテゴリに属する複数のキーワードを定義できます。
- **`keyword`**: マッチする特定のログキーワード。
- **`message`**: キーワードの説明。
- **`regex`**: キーワードを正規表現として解釈するかどうか（`true`で正規表現として解釈）。省略した場合は文字列として扱われます。

## 使用例

ブランチ `ja` を使用して日本語のタグを適用する場合、以下の手順で行います。

1. `.logtag`リポジトリの`ja`ブランチをホームディレクトリにクローンします。

```sh
git clone -b ja https://github.com/ShotaIuchi/.logtag.git ~/.logtag
```

2. LogTag ツールを実行します。

```sh
logtag *.txt
```

他の言語を使用する場合は、その言語に対応するブランチを利用してください。
